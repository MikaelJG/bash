
\chapter{Shells}

\section{Bourne Shell}

\textbf{BASH (the Borne Again Shell) and ZSH (the z shell)} are both Unix shells, extentions of the Bourne Shell.

\section{Executable Commands}

Bash uses executables, located in /usr/bin (Really?). \textbf{CD, SED, AWK, etc.}, 

    \subsection{Sed}

    \begin{verbatim}
    sed 's/foo/bar/g' file.txt // Replace all occurrences of "foo" with "bar".
    sed '/pattern/d' file.txt // Remove all lines containing "pattern" from a file.
    sed '/pattern/a new line' file.txt // Add a new line after each line that matches "pattern".
    sed '/0,/foo/s//bar/' file.txt // Replace the first occurrence of "foo" with "bar".
    sed '/\^abc/s/foo/bar/g' file.txt // only in lines that start with "abc", 
    // replace all occurrences of "foo" with "bar".
    \end{verbatim}
    \subsection{Awk}
    \begin{verbatim}
        awk '{print $1}' file.txt // Print first field (divided space) for each line.
    \begin{verbatim}
    awk '/pattern/' file.txt
    awk '2$ ~ / pattern/ {print}' file.txt 
        Print all lines that contain "pattern" in the second field.
    awk -F ',' '{sum += 3} END {print sum}' file.csv 
        // Calculate the sum of the values in the third column of a csv.
    awk '{sum2+=$2; sum3+=$3} END {print "Sum2: ",sum2, " Avg3: ",sum3/NR}' file.txt
            // Print the sum of values in the second column,
            // and the average of values in the third column of a csv.
    awk -F ',' '$1 == $3 {print}' file.csv 
         Print only the lines that have the same value
         in the first and third columns of a csv.
    \end{verbatim}
    \subsection{Ls}
    \begin{verbatim}
    all_file=$(ls "${my_path}") // is affected by the shell's
                               // interpretation of characters and whitespaces
                               // use find instead 

    all_file=$(find "${my_path}") // is not affected

    ls -l | a '{print $5}'// print file size (bytes) for each file in current dir.
    \end{verbatim}
    \subsection{Wc}
    \begin{verbatim}
        NLINES=$(wc -l < "$filename") // file line count
    \end{verbatim}
    \subsection{Echo}
    \begin{verbatim}
        echo -e // enables escape sequences.
        echo -e "First line\nSecond line" # \n - new line char.
    \end{verbatim}
    \subsection{Shopt}

    \begin{verbatim}
        Set shell options, customize environment and behavior.

        shopt -s // turn on a shell option.
        shopt -u // turn off a shell option.
        shopt // see status of all shell options (without arguments).
    \end{verbatim}

    \subsection{Cron}

        A time-based job scheduler 
        Run tasks or commands at specific intervals (every minute to monthly). 
        Useful for backups and system updates 
    \begin{verbatim}
        edit crontab file (storing commands, times and job recurrence)
    \end{verbatim}
        \subsubsection{Synthax}

        : MIN HOUR DOM MON DOW CMD

        Field    Description    Allowed Value

        MIN      Minute field    0 to 59

        HOUR     Hour field      0 to 23

        DOM      Day of Month    1-31

        MON      Month field     1-12

        DOW      Day Of Week     0-6

        CMD      Command         Any command to be executed.

        \begin{verbatim}
        30 8 * * * /path/to/command.sh // run script everyday 8:30am
        \end{verbatim}
    \subsection{Ps and Bg}
\begin{verbatim}
    show processes
    show background processes
\end{verbatim}

    \subsection{Top}
    \begin{verbatim}
    top example // continuous
    \end{verbatim}
    \subsection{Which & Whereis}
    \begin{verbatim}
    which gedit // user/bin/gedit 
    \end{verbatim}

    \subsection{Dpkg}

         List all the installed applications
    \begin{verbatim}
    dpkg list
    dpkg example 
    \end{verbatim}

    \subsection{Unset and Export}

    \begin{verbatim}
    unset EDITOR, loses default editor variable // removed global
    export EDITOR=vim // assigned global
    \end{verbatim}

    \subsection{Bash}
    \begin{verbatim}
    bash -x complex_script.sh // step-by-step code execution. 
    \end{verbatim}

    \subsection{Eval}

\begin{verbatim}
    Evaluate and execute commands from a string. 
    When a string is passed to the eval command and evaluates the resulting command line as if it had been typed on the command line.

    eval echo "Hello, $USER!"
    eval command will not fail if the command fails.  
\end{verbatim}

\subsection{Uname}

\begin{verbatim}
    Print OS basic system information, kernel name, version, release and machine hardware. 
\end{verbatim}
\subsection{Trap}

\begin{verbatim}
Error handling
Need more information on trap
\end{verbatim}
\subsection{Shred}
\begin{verbatim}
\end{verbatim}

\subsection{Ln}
\begin{verbatim}
Ln -s // link soft?
Symbolic links?
\end{verbatim}
\subsection{Su}
\begin{verbatim}
// Switch user
\end{verbatim}
\subsection{Finger}
\begin{verbatim}
\end{verbatim}

\subsection{Curl & Wget}
\begin{verbatim}
\end{verbatim}

\subsection{Head and Tail}
\begin{verbatim}
\end{verbatim}
\subsection{Cmp and Diff}
\begin{verbatim}
// compare files
\end{verbatim}
\subsection{Sort}
\begin{verbatim}
\end{verbatim}

\subsection{Grep}
\begin{verbatim}
\end{verbatim}

\subsection{Realpath and Reallink}
\begin{verbatim}
\end{verbatim}

\subsection{Strace}
\begin{verbatim}
Debug by tracing a program's system calls and signals. Its interaction with the OS.

Calls include file operations, network communication, process management, interrupts or termination signals.
Identify file access problems, permission errors, resource usage or unexpected behavior. 

Requires root privileges
\end{verbatim}

\section{Wtf is .profile?}

\begin{verbatim}

\end{verbatim}

